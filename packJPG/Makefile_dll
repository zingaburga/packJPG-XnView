# Project: packJPG
# Makefile created by Matthias Stirner 28.03.2007
# Working with GCC v3.4.5

CC      = gcc
CPP     = g++
RC      = windres
CFLAGS  = -I. -DBUILD_LIB -DBUILD_DLL -O2 -Wall -pedantic -fsched-spec-load -fomit-frame-pointer
LDFLAGS = -Wl,--out-implib,libpackJPG25.a -fvisibility=hidden
DEPS    = bitops.h aricoder.h htables.h dct8x8.h
OBJ     = bitops.o aricoder.o packjpg.o
RES     = icon.res
BIN     = packjpg25.dll

%.o: %.cpp $(DEPS)
	$(CPP) -c -o $@ $< $(CFLAGS)

$(BIN): $(OBJ) $(RES)
	$(CPP) -shared -o $@ $^ $(LDFLAGS)

clean:
	$(RM) *.o
